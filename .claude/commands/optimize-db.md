---
allowed-tools: ["Bash", "Read", "Write", "Edit"]
description: データベースの最適化提案と実行
argument-hint: "[mysql|postgresql] [show-only]"
---

データベースのパフォーマンスを分析し、最適化を提案・実行します。

データベース種別: $ARGUMENTS

以下の分析と最適化を実行してください：

1. スロークエリログの分析
   - 実行時間の長いクエリTOP10
   - インデックスが使用されていないクエリ

2. インデックスの最適化
   - 不足しているインデックスの特定
   - 不要なインデックスの削除提案

3. テーブル構造の分析
   - データ型の最適化提案
   - パーティショニングの検討

4. 設定の最適化
   - バッファサイズの調整
   - コネクション数の最適化
   - クエリキャッシュの設定

5. 実行計画の確認
   - EXPLAIN ANALYZEによる分析

"show-only"が指定された場合は、提案のみ表示し実際の変更は行わない。